<?xml version="1.0" encoding="UTF-8" ?>
<odoo>
  <data>

    <record id="room_booking_view_form" model="ir.ui.view">
      <field name="name">room.booking.view.form</field>
      <field name="model">room.booking</field>
      <field name="arch" type="xml">
        <form>
          <header>
            <button name="action_reserve" string="Reserve" invisible="state != 'draft'" type="object" class="btn-primary"/>
            <button name="action_checkin" string="Check-In" type="object" class="btn-primary"/>
            <button name="action_maintenance_request" string="Maintenance Request" type="object" class="btn-primary" />
            <field name="state" select="2" widget="statusbar" statubar_visible="draft,check_in,check_out,done"/>
          </header>
          <sheet>
            <div name="button_box" position="inside">
              <button class="oe_stat_button" type="object" name="action_view_invoices" icon="fa-edit">
<!--                  invisible="invoice_status != 'invoiced' "-->
                  <field string="invoices" name="invoice_count" widget="statinfo"/>
              </button>
            </div>
            <div>
                <h1>
                    <field name="name" colspan="4"/>
                </h1>
            </div>
            <group>
<!--                invisible Fields-->
                <field name="is_checkin" invisible="1"/>
                <field name="company_id" invisible="1"/>
                <field name="checkin_date" invisible="1"/>
                <field name="checkout_date" invisible="1"/>
                <field name="duration" readonly="1" invisible="1"/>
                <field name="duration_visible" invisible="1"/>
                <field name="invoice_button_visible" invisible="1"/>
                <field name="maintenance_request_sent" invisible="1"/>
<!--                <group>-->
<!--                    -->
<!--                </group>-->
               <group>
                   <field name="date_order"/>
                   <field name="pricelist_id"/>
                   <field name="need_service" invisible=" state not in ['check_in']"/>
                   <field name="need_fleet" invisible=" state not in ['check_in']"/>
                   <field name="need_food" invisible=" state not in ['check_in']"/>
                   <field name="need_event" invisible=" state not in ['check_in']"/>
               </group>
            </group>
            <notebook>
                <page name="folio" string="Folio">
                    <field name="room_line_ids" colspan="4" string="Room Lines">
<!--                        context-->
                        <tree editable="bottom">
                            
                        </tree>
                    </field>

                </page>
            </notebook>
          </sheet>
        </form>
      </field>
    </record>

<!--      tree View-->
      <record id="room_booking_view_tree" model="ir.ui.view">
          <field name="name">room.booking.view.tree</field>
          <field name="model">room.booking</field>
          <field name="arch" type="xml">
              <tree>
                  <field name="name"/>
                  <field name="partner_id"/>
                  <field name="date_order"/>
                  <field name="state"/>
              </tree>
          </field>
      </record>
<!--      room booking menu action-->
      <record id="room_booking_action" model="ir.actions.act_window">
          <field name="name">Room Booking</field>
          <field name="type">ir.actions.act_window</field>
          <field name="res_model">room.booking</field>
          <field name="view_mode">tree,form</field>
      </record>

<!--      Reservation Menu-->
      <menuitem id="room_booking_menu" name="Reservation" sequence="10" parent="hotel_management_menu_root" action="room_booking_action">
      </menuitem>
  </data>
</odoo>
